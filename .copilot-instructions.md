# Instructions for AI Assistants

## Version Management - CRITICAL

**DO NOT manually bump versions in these files:**
- `porpoise-ui/package.json`
- `Porpoise.Api/Porpoise.Api.csproj`
- `VERSION.md`

**Why:** CI/CD automatically bumps versions on every push to develop. Manual version changes create merge conflicts.

**Workflow:**
1. Make code changes
2. Commit without touching version files
3. Push to develop → CI/CD auto-bumps version
4. Merge develop to main (CI/CD handles versioning)

## Git Workflow

**Standard commit flow:**
```bash
git pull origin develop  # Always pull first
git add [files]
git commit -m "message"
git push origin develop
```

**If push is rejected (branch behind remote):**
This happens when CI/CD auto-bumped the version while you were committing.

```bash
git pull --rebase origin develop  # Pull and rebase your commit
git push origin develop
```

**Why rebase?** CI/CD commits are simple version bumps. Rebasing puts your work on top of the version bump, keeping history clean.

**Merge to main:**
```bash
git checkout main
git pull origin main
git merge develop
# Resolve conflicts if needed (accept develop's version numbers)
git push origin main
git checkout develop
```

## Common Pitfalls

- ❌ Don't merge main into develop (unnecessary, creates conflicts)
- ❌ Don't manually change version numbers
- ❌ Don't push without pulling first
- ✅ Always work on develop branch
- ✅ Let CI/CD handle versioning
- ✅ Only merge develop → main (one direction)
